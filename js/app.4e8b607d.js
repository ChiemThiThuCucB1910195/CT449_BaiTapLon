(function(){"use strict";var e={7761:function(e,t,a){var l=a(9242),r=a(3396),n=a(7139),s=a(7718),o=a(8796),i=a(9156),u=a(870),d=a(4075),c=a(9234),m=a(3289),p=a(9457),h=a(2329),g=a(2127),f=a(3140),w=a(9657);const _={class:"pa-2"};function y(e,t,a,l,y,k){const W=(0,r.up)("v-list-item-content"),b=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(s.q,{id:"inspire"},{default:(0,r.w5)((()=>["Login"!=e.$route.name?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Wm)(w.V,{modelValue:e.drawer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.drawer=t)},{append:(0,r.w5)((()=>[(0,r._)("div",_,[(0,r.Wm)(u.T,{depressed:"",color:"red",onClick:k.Logout,block:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" Đăng Xuất ")])),_:1},8,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(p.l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W,{class:"logo"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Coffee & Tea ")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(d.J),(0,r.Wm)(h.i,{density:"compact"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.items,((e,t)=>((0,r.wg)(),(0,r.j4)(p.l,{key:t,to:e.link,link:"","active-color":"primary"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(m.t,{icon:e.icon},null,8,["icon"])])),default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{textContent:(0,n.zw)(e.title)},null,8,["textContent"])])),_:2},1032,["to"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(o.L,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i.g,{onClick:t[1]||(t[1]=t=>e.drawer=!e.drawer)}),(0,r.Wm)(c.C),(0,r.Wm)(u.T,{icon:""},{default:(0,r.w5)((()=>[(0,r.Wm)(m.t,null,{default:(0,r.w5)((()=>[(0,r.Uk)("mdi-dots-vertical")])),_:1})])),_:1})])),_:1})],64)):(0,r.kq)("",!0),(0,r.Wm)(f.O,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b)])),_:1})])),_:1})}a(7658);var k={name:"App",data:()=>({theme:"light",drawer:null,items:[{title:"Quản lý tài khoản",icon:"mdi-account-box",link:"/account"},{title:"Quản lý nhân viên",icon:"mdi-account",link:"/user"},{title:"Quản lý loại sản phẩm",icon:"mdi-buffer",link:"/category"},{title:"Quản lý sản phẩm",icon:"mdi-coffee",link:"/product"}]}),methods:{async Logout(){localStorage.clear(),router.push({name:"/"}),location.reload(localStorage)}}},W=a(89);const b=(0,W.Z)(k,[["render",y]]);var v=b,V=a(2483),U=a(7771),$=a(5661),C=a(1888),T=a(6422),x=a(3369),j=a(165),P=a(7471),S=a(5030);const q={class:"login"};function A(e,t,a,l,s,o){return(0,r.wg)(),(0,r.j4)(x.K,{class:"formlogin",fluid:"","fill-height":""},{default:(0,r.w5)((()=>[(0,r.Wm)($._,null,{default:(0,r.w5)((()=>[(0,r.Wm)(P.iv,{class:"title",dark:"",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Wm)(S.q,null,{default:(0,r.w5)((()=>[(0,r.Uk)("ĐĂNG NHẬP")])),_:1})])),_:1}),(0,r.Wm)(C.Z,null,{default:(0,r.w5)((()=>[this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,class:"alert",border:"left","close-text":"",dismissible:"",dark:"",color:"error accent-4"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(T.O,null,{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{type:"text",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),"prepend-icon":"mdi-account",name:"email",label:"Email"},null,8,["modelValue"]),(0,r.Wm)(j.h,{type:"password",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),"prepend-icon":"mdi-lock",name:"password",label:"Mật khẩu"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r._)("div",q,[(0,r.Wm)(c.C),(0,r.Wm)(u.T,{color:"blue",onClick:o.Login},{default:(0,r.w5)((()=>[(0,r.Uk)("Đăng Nhập")])),_:1},8,["onClick"])])])),_:1})])),_:1})}var z=a(70);const D="/api/account";class L{static async getAllAccount(){const e=await z.ZP.get(D);return e.data}static async getAccountByEmailPassword(e,t){const a=await z.ZP.get(`${D}?email=${e}&password=${t}`);return a.data}static async getAccountById(e){const t=await z.ZP.get(`${D}/${e}`);return t.data}static async addAccount(e){const t=await z.ZP.post(D,e);return t.data}static async updateAccount(e,t){const a=await z.ZP.patch(`${D}/${e}`,t);return a.data}static async deleteAccount(e){const t=await z.ZP["delete"](`${D}/${e}`);return t.data}}var Z={name:"Login",data(){return{email:"",password:""}},methods:{async Login(){const e=await L.getAccountByEmailPassword(this.email,this.password);console.warn(e.length),e.length>0?(localStorage.setItem("user-login",JSON.stringify(e)),this.$router.push({name:"Product"})):this.$router.push({params:{message:"Email hoặc mật khẩu không chính xác!."}})}}};const N=(0,W.Z)(Z,[["render",A]]);var H=N,O=a(6824),F=a(8521),M=a(8694),I=a(742),E=a(4413);const K=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"text-center"}," Tên "),(0,r._)("th",{class:"text-center"}," Ảnh "),(0,r._)("th",{class:"text-center"}," Giá "),(0,r._)("th",{class:"text-center"}," Loại sản phẩm "),(0,r._)("th",{class:"text-center"}," Nguyên liệu "),(0,r._)("th")])],-1),G={class:"text-capitalize"},B={class:"text-center"},Y={class:"text-capitalize"},J={key:0},Q={class:"text-truncate"},R={class:"btn text-center"},X=(0,r._)("span",{class:"mdi mdi-lead-pencil"},null,-1),ee=(0,r._)("span",{class:"mdi mdi-delete"},null,-1);function te(e,t,a,l,s,o){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"",dismissible:"",dark:"",color:"green accent-4"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around"},{default:(0,r.w5)((()=>[(0,r.Wm)(I.T,{transition:"scroll-y-transition"},{activator:(0,r.w5)((({props:e})=>[(0,r.Wm)(u.T,(0,r.dG)({color:"primary",class:"sortby",elevation:"10",fab:""},e),{default:(0,r.w5)((()=>[(0,r.Uk)(" Sắp xếp theo tên ")])),_:2},1040)])),default:(0,r.w5)((()=>[(0,r.Wm)(h.i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{modelValue:e.sortDesc,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sortDesc=t),mandatory:"",value:!1,onClick:o.sortLowest},{default:(0,r.w5)((()=>[(0,r.Uk)("Tăng dần ")])),_:1},8,["modelValue","onClick"])])),_:1}),(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{value:!0,onClick:o.sortHightest},{default:(0,r.w5)((()=>[(0,r.Uk)("Giảm dần")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(F.D,{class:"addProduct"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{mandatory:"",clearable:"",flat:"","solo-inverted":"","hide-details":"",elevation:"10",fab:"",to:{name:"add-product"},"prepend-icon":"mdi-database-plus",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("Thêm sản phẩm")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(j.h,{class:"search rounded-t-lg",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Tìm kiếm",modelValue:s.search,"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e)},null,8,["modelValue"]),(0,r.Wm)(E.Y,{class:"body"},{default:(0,r.w5)((()=>[K,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.searchProducts,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e._id,height:"80"},[(0,r._)("td",G,(0,n.zw)(e.name),1),(0,r._)("td",null,[(0,r.Wm)(M.f,{height:"50",width:"50",cover:"",class:"bg-grey-lighten-2",src:`/${e.image}`},null,8,["src"])]),(0,r._)("td",B,(0,n.zw)(e.price)+"đ",1),(0,r._)("td",Y,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.categories,(t=>((0,r.wg)(),(0,r.iD)("div",null,[e.category==t._id?((0,r.wg)(),(0,r.iD)("div",J,(0,n.zw)(t.name),1)):(0,r.kq)("",!0)])))),256))]),(0,r._)("td",Q,(0,n.zw)(e.description),1),(0,r._)("td",R,[(0,r.Wm)(O.o,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{to:{name:"edit-product",params:{id:e._id}},class:"mdi",color:"blue"},{default:(0,r.w5)((()=>[X])),_:2},1032,["to"]),(0,r.Wm)(u.T,{onClick:t=>o.removeProduct(e._id),class:"mdi",color:"red"},{default:(0,r.w5)((()=>[ee])),_:2},1032,["onClick"])])),_:2},1024)])])))),128))])])),_:1})])),_:1})])),_:1})}const ae="/api/product";class le{static async getAllProduct(){const e=await z.ZP.get(ae);return e.data}static async getProductById(e){const t=await z.ZP.get(`${ae}/${e}`);return t.data}static async addProduct(e){const t=await z.ZP.post(ae,e);return t.data}static async updateProduct(e,t){const a=await z.ZP.patch(`${ae}/${e}`,t);return a.data}static async deleteProduct(e){const t=await z.ZP["delete"](`${ae}/${e}`);return t.data}}const re="/api/category";class ne{static async getAllCategory(){const e=await z.ZP.get(re);return e.data}static async getCategoryById(e){const t=await z.ZP.get(`${re}/${e}`);return t.data}static async addCategory(e){const t=await z.ZP.post(re,e);return t.data}static async updateCategory(e,t){const a=await z.ZP.patch(`${re}/${e}`,t);return a.data}static async deleteCategory(e){const t=await z.ZP["delete"](`${re}/${e}`);return t.data}}var se={name:"Product",data(){return{search:"",products:[],categories:[]}},async created(){this.categories=await ne.getAllCategory(),this.products=await le.getAllProduct();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async removeProduct(e){await le.deleteProduct(e);this.$router.push({params:{message:"Xoá sản phẩm thành công."}}),this.created(),this.show=!0},async created(){this.categories=await ne.getAllCategory(),this.products=await le.getAllProduct();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},sortLowest(){this.products.sort(((e,t)=>e.name>t.name?1:-1))},sortHightest(){this.products.sort(((e,t)=>e.name<t.name?1:-1))}},computed:{searchProducts(){return this.products.filter((e=>e.name.includes(this.search)))}}};const oe=(0,W.Z)(se,[["render",te]]);var ie=oe,ue=a(6572),de=a(3121),ce=a(1583),me=a(4842);const pe={class:"text-right"};function he(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("THÊM SẢN PHẨM")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{ref:"form",onSubmit:(0,l.iM)(i.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên sản phẩm",modelValue:o.product.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.product.name=e),"prepend-icon":"mdi-note",rules:o.namerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(ce.r,{"prepend-icon":"mdi-buffer",modelValue:o.product.category,"onUpdate:modelValue":t[1]||(t[1]=e=>o.product.category=e),label:"Loại sản phẩm",items:o.categories,"item-title":"name","item-value":"_id",rules:o.categoryrules,required:""},null,8,["modelValue","items","rules"]),(0,r.Wm)(j.h,{label:"Giá sản phẩm",modelValue:o.product.price,"onUpdate:modelValue":t[2]||(t[2]=e=>o.product.price=e),"prepend-icon":"mdi-cash-usd",rules:o.pricerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(me.z,{label:"Nguyên liệu",modelValue:o.product.description,"onUpdate:modelValue":t[3]||(t[3]=e=>o.product.description=e),"prepend-icon":"mdi-note-plus",rules:o.desrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(de.Z,{onChange:i.selectFile,label:"Ảnh sản phẩm","show-size":"",counter:"",multiple:"",rules:o.imagerules,required:""},null,8,["onChange","rules"]),(0,r._)("div",pe,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Thêm ")])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var ge={data(){return{namerules:[e=>!!e||"Tên sản phẩm không được để trống!"],categoryrules:[e=>!!e||"Loại sản phẩm không được để trống!"],pricerules:[e=>!!e||"Giá tiền sản phẩm không được để trống!"],desrules:[e=>!!e||"Mô tả sản phẩm không được để trống!"],imagerules:[e=>!!e||"Ảnh sản phẩm không được để trống!"],product:{name:"",category:"",description:"",price:"",image:""},image:"",categories:[]}},async created(){const e=await ne.getAllCategory();this.categories=e;const t=await localStorage.getItem("user-login");t||this.$router.push({name:"Login"})},methods:{selectFile(e){this.image=e.target.files[0]},async submitForm(){const e=new FormData;if(e.append("image",this.image),e.append("price",this.product.price),e.append("category",this.product.category),e.append("description",this.product.description),e.append("name",this.product.name),this.$refs.form.validate()){const t=await le.addProduct(e);console.log(t),this.$router.push({params:{message:"Thêm sản phẩm thành công"}}),this.created(),this.show=!0}},async created(){const e=await ne.getAllCategory();this.categories=e}}};const fe=(0,W.Z)(ge,[["render",he]]);var we=fe;const _e={class:"text-right"};function ye(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("CẬP NHẬT SẢN PHẨM")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{ref:"form",onSubmit:(0,l.iM)(i.updateForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên sản phẩm",modelValue:o.product.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.product.name=e),"prepend-icon":"mdi-note",rules:o.namerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(ce.r,{"prepend-icon":"mdi-note",modelValue:o.product.category,"onUpdate:modelValue":t[1]||(t[1]=e=>o.product.category=e),label:"Tên loại sản phẩm",items:o.categories,"item-title":"name","item-value":"_id",rules:o.categoryrules,required:""},null,8,["modelValue","items","rules"]),(0,r.Wm)(j.h,{label:"Giá sản phẩm",modelValue:o.product.price,"onUpdate:modelValue":t[2]||(t[2]=e=>o.product.price=e),"prepend-icon":"mdi-view-list",rules:o.pricerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(me.z,{label:"Nguyên liệu",modelValue:o.product.description,"onUpdate:modelValue":t[3]||(t[3]=e=>o.product.description=e),"prepend-icon":"mdi-note-plus",rules:o.desrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(de.Z,{onChange:i.selectFile,label:"Ảnh sản phẩm","show-size":"",counter:"",multiple:"",rules:o.imagerules,required:""},null,8,["onChange","rules"]),(0,r.Wm)(M.f,{class:"image",src:`/${o.product.image}`,width:"120"},null,8,["src"]),(0,r._)("div",_e,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Cập Nhật ")])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var ke={data(){return{namerules:[e=>!!e||"Tên sản phẩm không được để trống!"],categoryrules:[e=>!!e||"Loại sản phẩm không được để trống!"],pricerules:[e=>!!e||"Giá tiền sản phẩm không được để trống!"],desrules:[e=>!!e||"Mô tả sản phẩm không được để trống!"],imagerules:[e=>!!e||"Ảnh sản phẩm không được để trống!"],product:{name:"",category:"",description:"",price:"",image:""},image:"",categories:[]}},async created(){const e=await le.getProductById(this.$route.params.id),t=await ne.getAllCategory();this.categories=t,this.product=e;const a=await localStorage.getItem("user-login");a||this.$router.push({name:"Login"})},methods:{selectFile(e){this.image=e.target.files[0]},async updateForm(){const e=new FormData;if(e.append("image",this.image),e.append("price",this.product.price),e.append("category",this.product.category),e.append("description",this.product.description),e.append("name",this.product.name),e.append("old_image",this.product.image),this.$refs.form.validate()){await le.updateProduct(this.$route.params.id,e);this.$router.push({params:{message:"Cập nhật thành công!"}})}}}};const We=(0,W.Z)(ke,[["render",ye]]);var be=We;const ve=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"text-center"}," Họ tên "),(0,r._)("th",{class:"text-center"}," Ảnh "),(0,r._)("th",{class:"text-center"}," Email "),(0,r._)("th",{class:"text-center"}," Chức vụ "),(0,r._)("th",{class:"text-center"}," Số điện thoại "),(0,r._)("th",{class:"text-center"}," Quê quán "),(0,r._)("th",{class:"text-center"}," Giới tính "),(0,r._)("th")])],-1),Ve={class:"text-capitalize"},Ue={class:"text-center"},$e={class:"text-capitalize"},Ce={class:"text-center"},Te={class:"text-center"},xe={class:"text-truncate"},je={class:"text-center"},Pe={class:"text-center"},Se=(0,r._)("span",{class:"mdi mdi-lead-pencil"},null,-1),qe=(0,r._)("span",{class:"mdi mdi-delete"},null,-1);function Ae(e,t,a,l,s,o){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"red accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around"},{default:(0,r.w5)((()=>[(0,r.Wm)(I.T,{sm:"12",class:"d-flex justify-start",transition:"scroll-y-transition"},{activator:(0,r.w5)((({props:e})=>[(0,r.Wm)(u.T,(0,r.dG)({color:"primary",class:"sortby",elevation:"10",fab:""},e),{default:(0,r.w5)((()=>[(0,r.Uk)(" Sắp xếp theo tên ")])),_:2},1040)])),default:(0,r.w5)((()=>[(0,r.Wm)(h.i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{modelValue:e.sortDesc,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sortDesc=t),mandatory:"",value:!1,onClick:o.sortLowest},{default:(0,r.w5)((()=>[(0,r.Uk)("Tăng dần ")])),_:1},8,["modelValue","onClick"])])),_:1}),(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{value:!0,onClick:o.sortHightest},{default:(0,r.w5)((()=>[(0,r.Uk)("Giảm dần")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(F.D,{class:"d-flex justify-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{elevation:"10",fab:"",to:{name:"add-user"},"prepend-icon":"mdi-database-plus",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("Thêm nhân viên ")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(j.h,{class:"search rounded-t-lg",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Tìm kiếm",modelValue:s.search,"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e)},null,8,["modelValue"]),(0,r.Wm)(E.Y,null,{default:(0,r.w5)((()=>[ve,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.searchUsers,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e._id,height:"80"},[(0,r._)("td",Ve,(0,n.zw)(e.fullname),1),(0,r._)("td",null,[(0,r.Wm)(M.f,{height:"50",width:"50",cover:"",class:"bg-grey-lighten-2",src:`/${e.image}`},null,8,["src"])]),(0,r._)("td",Ue,(0,n.zw)(e.email),1),(0,r._)("td",$e,(0,n.zw)(e.position),1),(0,r._)("td",Ce,(0,n.zw)(e.phone),1),(0,r._)("td",Te,[(0,r._)("div",xe,(0,n.zw)(e.address),1)]),(0,r._)("td",je,(0,n.zw)(e.gender),1),(0,r._)("td",Pe,[(0,r.Wm)(O.o,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{to:{name:"edit-user",params:{id:e._id}},class:"mdi",color:"blue"},{default:(0,r.w5)((()=>[Se])),_:2},1032,["to"]),(0,r.Wm)(u.T,{onClick:t=>o.removeUser(e._id),class:"mdi",color:"red"},{default:(0,r.w5)((()=>[qe])),_:2},1032,["onClick"])])),_:2},1024)])])))),128))])])),_:1})])),_:1})])),_:1})}const ze="/api/user";class De{static async getAllUser(){const e=await z.ZP.get(ze);return e.data}static async getUserById(e){const t=await z.ZP.get(`${ze}/${e}`);return t.data}static async createUser(e){const t=await z.ZP.post(ze,e);return t.data}static async updateUser(e,t){const a=await z.ZP.patch(`${ze}/${e}`,t);return a.data}static async deleteUser(e){const t=await z.ZP["delete"](`${ze}/${e}`);return t.data}}var Le={name:"User",data(){return{search:"",users:[]}},async created(){this.users=await De.getAllUser();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async removeUser(e){await De.deleteUser(e);this.$router.push({params:{message:"Xoá sản phẩm thành công."}}),this.created(),this.show=!0},async created(){this.users=await De.getAllUser();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},sortLowest(){this.users.sort(((e,t)=>e.fullname>t.fullname?1:-1))},sortHightest(){this.users.sort(((e,t)=>e.fullname<t.fullname?1:-1))}},computed:{searchUsers(){return this.users.filter((e=>e.fullname.includes(this.search)))}}};const Ze=(0,W.Z)(Le,[["render",Ae]]);var Ne=Ze,He=a(4846),Oe=a(1275);const Fe={class:"text-right"};function Me(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("THÊM NHÂN VIÊN")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{modelValue:e.valid,"onUpdate:modelValue":t[6]||(t[6]=t=>e.valid=t),ref:"form",onSubmit:(0,l.iM)(i.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Họ tên",modelValue:o.user.fullname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.user.fullname=e),"prepend-icon":"mdi-account",rules:o.fullnamerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"email",modelValue:o.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.user.email=e),"prepend-icon":"mdi-email",rules:o.emailrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Chức vụ",modelValue:o.user.position,"onUpdate:modelValue":t[2]||(t[2]=e=>o.user.position=e),"prepend-icon":"mdi-account-edit",rules:o.positionrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Số điện thoại",modelValue:o.user.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>o.user.phone=e),"prepend-icon":"mdi-phone",counter:10,rules:o.phonerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Quê quán",modelValue:o.user.address,"onUpdate:modelValue":t[4]||(t[4]=e=>o.user.address=e),"prepend-icon":"mdi-home",rules:o.addressrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(de.Z,{onChange:i.selectFile,label:"Ảnh","show-size":"",counter:"",multiple:"",rules:o.imagerules,required:""},null,8,["onChange","rules"]),(0,r.Wm)(Oe.r,{color:"red",modelValue:o.user.gender,"onUpdate:modelValue":t[5]||(t[5]=e=>o.user.gender=e),"prepend-icon":"mdi-human-male-female",rules:o.genderrules,required:""},{default:(0,r.w5)((()=>[(0,r.Wm)(He.R,{label:"Nam",value:"Nam"}),(0,r.Wm)(He.R,{label:"Nữ",value:"Nữ"})])),_:1},8,["modelValue","rules"]),(0,r._)("div",Fe,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Thêm ")])),_:1})])])),_:1},8,["modelValue","onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var Ie={data(){return{fullnamerules:[e=>!!e||"Họ tên không được để trống!"],positionrules:[e=>!!e||"Chức vụ không được để trống!"],addressrules:[e=>!!e||"Địa chỉ không được để trống!"],genderrules:[e=>!!e||"Giới tính không được để trống!"],imagerules:[e=>!!e||"Ảnh nhân viên không được để trống!"],phonerules:[e=>!!e||"Số điện thoại không được để trống!",e=>10==e.length||"Số điện thoại có 10 chữ số"],emailrules:[e=>!!e||"E-mail is không được để trống",e=>/.+@.+/.test(e)||"Email không hợp lệ (example@gmail.com)"],user:{fullname:"",email:"",phone:"",address:"",gender:"",image:"",position:""},image:""}},async created(){const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{selectFile(e){this.image=e.target.files[0]},async submitForm(){const e=new FormData;if(e.append("image",this.image),e.append("fullname",this.user.fullname),e.append("email",this.user.email),e.append("phone",this.user.phone),e.append("address",this.user.address),e.append("gender",this.user.gender),e.append("position",this.user.position),this.$refs.form.validate()){await De.createUser(e);this.$router.push({params:{message:"Thêm nhân viên thành công"}})}}}};const Ee=(0,W.Z)(Ie,[["render",Me]]);var Ke=Ee;const Ge={class:"text-right"};function Be(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("CẬP NHẬT NHÂN VIÊN")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{ref:"form",onSubmit:(0,l.iM)(i.updateForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Họ tên nhân viên",modelValue:o.user.fullname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.user.fullname=e),"prepend-icon":"mdi-account",rules:o.fullnamerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"email",modelValue:o.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.user.email=e),"prepend-icon":"mdi-email",rules:o.emailrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Chức vụ",modelValue:o.user.position,"onUpdate:modelValue":t[2]||(t[2]=e=>o.user.position=e),"prepend-icon":"mdi-account-edit",rules:o.positionrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Số điện thoại",modelValue:o.user.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>o.user.phone=e),"prepend-icon":"mdi-phone",rules:o.phonerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(me.z,{label:"Địa chỉ",modelValue:o.user.address,"onUpdate:modelValue":t[4]||(t[4]=e=>o.user.address=e),"prepend-icon":"mdi-home",rules:o.addressrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(de.Z,{onChange:i.selectFile,label:"Ảnh nhân viên","show-size":"",counter:"",multiple:"",rules:o.imagerules,required:""},null,8,["onChange","rules"]),(0,r.Wm)(M.f,{class:"image",src:`/${o.user.image}`,width:"120"},null,8,["src"]),(0,r.Wm)(Oe.r,{color:"red",modelValue:o.user.gender,"onUpdate:modelValue":t[5]||(t[5]=e=>o.user.gender=e),"prepend-icon":"mdi-human-male-female",rules:o.genderrules,required:""},{default:(0,r.w5)((()=>[(0,r.Wm)(He.R,{label:"Nam",value:"Nam"}),(0,r.Wm)(He.R,{label:"Nữ",value:"Nữ"})])),_:1},8,["modelValue","rules"]),(0,r._)("div",Ge,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Cập Nhật ")])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var Ye={data(){return{fullnamerules:[e=>!!e||"Họ tên không được để trống!"],positionrules:[e=>!!e||"Chức vụ không được để trống!"],addressrules:[e=>!!e||"Địa chỉ không được để trống!"],genderrules:[e=>!!e||"Giới tính không được để trống!"],imagerules:[e=>!!e||"Ảnh nhân viên không được để trống!"],phonerules:[e=>!!e||"Số điện thoại không được để trống!",e=>10==e.length||"Số điện thoại có 10 chữ số"],emailrules:[e=>!!e||"E-mail is không được để trống",e=>/.+@.+/.test(e)||"Email không hợp lệ (example@gmail.com)"],user:{fullname:"",email:"",phone:"",address:"",gender:"",image:"",position:""},image:""}},async created(){const e=await De.getUserById(this.$route.params.id);this.user=e;const t=await localStorage.getItem("user-login");t||this.$router.push({name:"Login"})},methods:{selectFile(e){this.image=e.target.files[0]},async updateForm(){const e=new FormData;if(e.append("image",this.image),e.append("fullname",this.user.fullname),e.append("email",this.user.email),e.append("phone",this.user.phone),e.append("address",this.user.address),e.append("gender",this.user.gender),e.append("old_image",this.user.image),e.append("position",this.user.position),this.$refs.form.validate()){await De.updateUser(this.$route.params.id,e);this.$router.push({params:{message:"Cập nhật sản phẩm thành công"}})}}}};const Je=(0,W.Z)(Ye,[["render",Be]]);var Qe=Je;const Re=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"text-center"}," Tên "),(0,r._)("th",{class:"text-center"}," Email "),(0,r._)("th")])],-1),Xe={class:"text-capitalize"},et={class:"text-center"},tt=(0,r._)("span",{class:"mdi mdi-lead-pencil"},null,-1),at=(0,r._)("span",{class:"mdi mdi-delete"},null,-1);function lt(e,t,a,l,s,o){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"red accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around"},{default:(0,r.w5)((()=>[(0,r.Wm)(I.T,{sm:"12",class:"d-flex justify-start",transition:"scroll-y-transition"},{activator:(0,r.w5)((({props:e})=>[(0,r.Wm)(u.T,(0,r.dG)({color:"primary",class:"sortby",elevation:"10",fab:""},e),{default:(0,r.w5)((()=>[(0,r.Uk)(" Sắp xếp theo tên ")])),_:2},1040)])),default:(0,r.w5)((()=>[(0,r.Wm)(h.i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{modelValue:e.sortDesc,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sortDesc=t),mandatory:"",value:!1,onClick:o.sortLowest},{default:(0,r.w5)((()=>[(0,r.Uk)("Tăng dần ")])),_:1},8,["modelValue","onClick"])])),_:1}),(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{value:!0,onClick:o.sortHightest},{default:(0,r.w5)((()=>[(0,r.Uk)("Giảm dần")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(F.D,{class:"d-flex justify-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{elevation:"10",fab:"",to:{name:"add-account"},"prepend-icon":"mdi-database-plus",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)("Thêm tài khoản ")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(j.h,{class:"search rounded-t-lg",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Tìm kiếm",modelValue:s.search,"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e)},null,8,["modelValue"]),(0,r.Wm)(E.Y,null,{default:(0,r.w5)((()=>[Re,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.searchAccount,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e._id,height:"80"},[(0,r._)("td",Xe,(0,n.zw)(e.fullname),1),(0,r._)("td",null,(0,n.zw)(e.email),1),(0,r._)("td",et,[(0,r.Wm)(O.o,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{to:{name:"edit-account",params:{id:e._id}},class:"mdi",color:"blue"},{default:(0,r.w5)((()=>[tt])),_:2},1032,["to"]),(0,r.Wm)(u.T,{onClick:t=>o.removeAccount(e._id),class:"mdi",color:"red"},{default:(0,r.w5)((()=>[at])),_:2},1032,["onClick"])])),_:2},1024)])])))),128))])])),_:1})])),_:1})])),_:1})}var rt={name:"Account",data(){return{search:"",accounts:[]}},async created(){this.accounts=await L.getAllAccount();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async removeAccount(e){await L.deleteAccount(e);this.$router.push({params:{message:"Xoá tài khoản thành công."}}),this.created(),this.show=!0},async created(){this.accounts=await L.getAllAccount();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},sortLowest(){this.accounts.sort(((e,t)=>e.fullname>t.fullname?1:-1))},sortHightest(){this.accounts.sort(((e,t)=>e.fullname<t.fullname?1:-1))}},computed:{searchAccount(){return this.accounts.filter((e=>e.fullname.includes(this.search)))}}};const nt=(0,W.Z)(rt,[["render",lt]]);var st=nt;const ot={class:"text-right"};function it(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("THÊM TÀI KHOẢN")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{modelValue:e.valid,"onUpdate:modelValue":t[3]||(t[3]=t=>e.valid=t),ref:"form",onSubmit:(0,l.iM)(i.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên tài khoản",modelValue:o.account.fullname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.account.fullname=e),"prepend-icon":"mdi-note",rules:o.fullnamerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"email",modelValue:o.account.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.account.email=e),"prepend-icon":"mdi-note-plus",rules:o.emailrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Mật khẩu",modelValue:o.account.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.account.password=e),"prepend-icon":"mdi-note-plus",rules:e.passwordrules,required:""},null,8,["modelValue","rules"]),(0,r._)("div",ot,[(0,r.Wm)(u.T,{type:"submit",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Thêm ")])),_:1})])])),_:1},8,["modelValue","onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var ut={data(){return{fullnamerules:[e=>!!e||"Tên không được để trống!"],emailrules:[e=>!!e||"Email không được để trống!",e=>/.+@.+/.test(e)||"Email không hợp lệ (example@gmail.com)"],account:{fullname:"",email:"",password:""}}},async created(){const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async submitForm(){const e=new FormData;if(e.append("email",this.account.email),e.append("password",this.account.password),e.append("fullname",this.account.fullname),this.$refs.form.validate()){await L.addAccount(e);this.$router.push({params:{message:"Thêm tài khoản thành công"}})}}}};const dt=(0,W.Z)(ut,[["render",it]]);var ct=dt;const mt={class:"text-right"};function pt(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("CẬP NHẬT TÀI KHOẢN")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{ref:"form",onSubmit:(0,l.iM)(i.updateForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên tài khoản",modelValue:o.account.fullname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.account.fullname=e),"prepend-icon":"mdi-note",rules:o.fullnamerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"email",modelValue:o.account.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.account.email=e),"prepend-icon":"mdi-note-plus",rules:o.emailrules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(j.h,{label:"Mật khẩu",modelValue:o.account.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.account.password=e),"prepend-icon":"mdi-note",rules:o.passwordrules,required:""},null,8,["modelValue","rules"]),(0,r._)("div",mt,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Cập Nhật ")])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var ht={data(){return{fullnamerules:[e=>!!e||"Họ tên không được để trống!"],passwordrules:[e=>!!e||"Mật khẩu không được để trống!"],emailrules:[e=>!!e||"E-mail is không được để trống",e=>/.+@.+/.test(e)||"Email không hợp lệ (example@gmail.com)"],account:{fullname:"",email:"",password:""}}},async created(){const e=await L.getAccountById(this.$route.params.id);this.account=e;const t=await localStorage.getItem("user-login");t||this.$router.push({name:"Login"})},methods:{async updateForm(){const e=new FormData;if(e.append("email",this.account.email),e.append("fullname",this.account.fullname),e.append("password",this.account.password),this.$refs.form.validate()){await L.updateAccount(this.$route.params.id,e);this.$router.push({params:{message:"Cập nhật tài khoản thành công"}})}}}};const gt=(0,W.Z)(ht,[["render",pt]]);var ft=gt;const wt=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"text-center"}," Tên "),(0,r._)("th",{class:"text-center"}," Mô tả "),(0,r._)("th")])],-1),_t={class:"text-capitalize"},yt={class:"text-truncate"},kt={class:"text-center"},Wt=(0,r._)("span",{class:"mdi mdi-lead-pencil"},null,-1),bt=(0,r._)("span",{class:"mdi mdi-delete"},null,-1);function vt(e,t,a,l,s,o){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"red accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around"},{default:(0,r.w5)((()=>[(0,r.Wm)(I.T,{sm:"12",class:"d-flex justify-start",transition:"scroll-y-transition"},{activator:(0,r.w5)((({props:e})=>[(0,r.Wm)(u.T,(0,r.dG)({color:"primary",class:"sortby",elevation:"10",fab:""},e),{default:(0,r.w5)((()=>[(0,r.Uk)(" Sắp xếp theo tên ")])),_:2},1040)])),default:(0,r.w5)((()=>[(0,r.Wm)(h.i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{modelValue:e.sortDesc,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sortDesc=t),mandatory:"",value:!1,onClick:o.sortLowest},{default:(0,r.w5)((()=>[(0,r.Uk)("Tăng dần ")])),_:1},8,["modelValue","onClick"])])),_:1}),(0,r.Wm)(p.l,{link:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g.V,{value:!0,onClick:o.sortHightest},{default:(0,r.w5)((()=>[(0,r.Uk)("Giảm dần")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,r.Wm)(F.D,{class:"d-flex justify-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{elevation:"10",fab:"",to:{name:"add-category"},"prepend-icon":"mdi-database-plus",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Thêm loại sảnphẩm ")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(j.h,{class:"search rounded-t-lg",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Tìm kiếm",modelValue:s.search,"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e)},null,8,["modelValue"]),(0,r.Wm)(E.Y,null,{default:(0,r.w5)((()=>[wt,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.searchCategories,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e._id,height:"80"},[(0,r._)("td",_t,(0,n.zw)(e.name),1),(0,r._)("td",yt,(0,n.zw)(e.description),1),(0,r._)("td",kt,[(0,r.Wm)(O.o,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u.T,{to:{name:"edit-category",params:{id:e._id}},class:"mdi",color:"blue"},{default:(0,r.w5)((()=>[Wt])),_:2},1032,["to"]),(0,r.Wm)(u.T,{onClick:t=>o.removeCategory(e._id),class:"mdi",color:"red"},{default:(0,r.w5)((()=>[bt])),_:2},1032,["onClick"])])),_:2},1024)])])))),128))])])),_:1})])),_:1})])),_:1})}var Vt={name:"Category",data(){return{search:"",categories:[]}},async created(){this.categories=await ne.getAllCategory();const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async removeCategory(e){await ne.deleteCategory(e);this.$router.push({params:{message:"Xoá loại sản phẩm thành công."}}),this.created(),this.show=!0},async created(){this.categories=await ne.getAllCategory()},sortLowest(){this.categories.sort(((e,t)=>e.name>t.name?1:-1))},sortHightest(){this.categories.sort(((e,t)=>e.name<t.name?1:-1))}},computed:{searchCategories(){return this.categories.filter((e=>e.name.includes(this.search)))}}};const Ut=(0,W.Z)(Vt,[["render",vt]]);var $t=Ut;const Ct={class:"text-right"};function Tt(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("THÊM LOẠI SẢN PHẨM")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{modelValue:e.valid,"onUpdate:modelValue":t[2]||(t[2]=t=>e.valid=t),ref:"form",onSubmit:(0,l.iM)(i.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên loại sản phẩm",modelValue:o.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.category.name=e),"prepend-icon":"mdi-note",rules:o.namerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(me.z,{label:"Mô tả",modelValue:o.category.description,"onUpdate:modelValue":t[1]||(t[1]=e=>o.category.description=e),"prepend-icon":"mdi-note-plus",rules:o.desrules,required:""},null,8,["modelValue","rules"]),(0,r._)("div",Ct,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Thêm ")])),_:1})])])),_:1},8,["modelValue","onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var xt={data(){return{namerules:[e=>!!e||"Tên sản phẩm không được để trống!"],desrules:[e=>!!e||"Mô tả sản phẩm không được để trống!"],category:{name:"",description:""}}},async created(){const e=await localStorage.getItem("user-login");e||this.$router.push({name:"Login"})},methods:{async submitForm(){const e=new FormData;if(e.append("description",this.category.description),e.append("name",this.category.name),this.$refs.form.validate()){await ne.addCategory(e);this.$router.push({params:{message:"Thêm loại sản phẩm thành công"}})}}}};const jt=(0,W.Z)(xt,[["render",Tt]]);var Pt=jt;const St={class:"text-right"};function qt(e,t,a,s,o,i){return(0,r.wg)(),(0,r.j4)(x.K,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O.o,{align:"center",justify:"space-around","no-gutters":""},{default:(0,r.w5)((()=>[(0,r.Wm)(F.D,{sm:"10"},{default:(0,r.w5)((()=>[(0,r.Wm)($._,{class:"pa-5"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue.E,{class:"title"},{default:(0,r.w5)((()=>[(0,r.Uk)("CẬP NHẬT LOẠI SẢN PHẨM")])),_:1}),this.$route.params.message?((0,r.wg)(),(0,r.j4)(U.w,{key:0,border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(this.$route.params.message),1)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d.J),(0,r.Wm)(T.O,{ref:"form",onSubmit:(0,l.iM)(i.updateForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,r.w5)((()=>[(0,r.Wm)(j.h,{label:"Tên loại sản phẩm",modelValue:o.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.category.name=e),"prepend-icon":"mdi-note",rules:o.namerules,required:""},null,8,["modelValue","rules"]),(0,r.Wm)(me.z,{label:"Mô tả",modelValue:o.category.description,"onUpdate:modelValue":t[1]||(t[1]=e=>o.category.description=e),"prepend-icon":"mdi-note-plus",rules:o.desrules,required:""},null,8,["modelValue","rules"]),(0,r._)("div",St,[(0,r.Wm)(u.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Cập Nhật ")])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var At={data(){return{namerules:[e=>!!e||"Tên sản phẩm không được để trống!"],desrules:[e=>!!e||"Mô tả sản phẩm không được để trống!"],category:{name:"",description:""}}},async created(){const e=await ne.getCategoryById(this.$route.params.id);this.category=e;const t=await localStorage.getItem("user-login");t||this.$router.push({name:"Login"})},methods:{async updateForm(){const e=new FormData;if(e.append("description",this.category.description),e.append("name",this.category.name),this.$refs.form.validate()){await ne.updateCategory(this.$route.params.id,e);this.$router.push({params:{message:"Cập nhật loại sản phẩm thành công"}})}}}};const zt=(0,W.Z)(At,[["render",qt]]);var Dt=zt;const Lt=[{path:"/",name:"Login",component:H},{path:"/product",name:"Product",component:ie},{path:"/product/add",name:"add-product",component:we},{path:"/edit-product/:id",name:"edit-product",component:be},{path:"/account",name:"Account",component:st},{path:"/account/add",name:"add-account",component:ct},{path:"/edit-account/:id",name:"edit-account",component:ft},{path:"/user",name:"User",component:Ne},{path:"/user/add",name:"add-user",component:Ke},{path:"/edit-user/:id",name:"edit-user",component:Qe},{path:"/category",name:"Category",component:$t},{path:"/category/add",name:"add-category",component:Pt},{path:"/edit-category/:id",name:"edit-category",component:Dt}],Zt=(0,V.p7)({history:(0,V.PO)("/CT449_BaiTapLon/"),routes:Lt});var Nt=Zt,Ht=(a(9773),a(8957)),Ot=(0,Ht.Rd)("https://vuetifyjs.com/en/introduction/why-vuetify/#feature-guides");async function Ft(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Ft(),(0,l.ri)(v).use(Nt).use(Ot).mount("#app")}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,r,n){if(!l){var s=1/0;for(d=0;d<e.length;d++){l=e[d][0],r=e[d][1],n=e[d][2];for(var o=!0,i=0;i<l.length;i++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(o=!1,n<s&&(s=n));if(o){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(l,r){if(1&r&&(l=this(l)),8&r)return l;if("object"===typeof l&&l){if(4&r&&l.__esModule)return l;if(16&r&&"function"===typeof l.then)return l}var n=Object.create(null);a.r(n);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&l;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){s[e]=function(){return l[e]}}));return s["default"]=function(){return l},a.d(n,s),n}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,l){return a.f[l](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.fc213217.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";a.l=function(l,r,n,s){if(e[l])e[l].push(r);else{var o,i;if(void 0!==n)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==l||c.getAttribute("data-webpack")==t+n){o=c;break}}o||(i=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+n),o.src=l),e[l]=[r];var m=function(t,a){o.onerror=o.onload=null,clearTimeout(p);var r=e[l];if(delete e[l],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),i&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/CT449_BaiTapLon/"}(),function(){var e={143:0};a.f.j=function(t,l){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)l.push(r[2]);else{var n=new Promise((function(a,l){r=e[t]=[a,l]}));l.push(r[2]=n);var s=a.p+a.u(t),o=new Error,i=function(l){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var n=l&&("load"===l.type?"missing":l.type),s=l&&l.target&&l.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",o.name="ChunkLoadError",o.type=n,o.request=s,r[1](o)}};a.l(s,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,n,s=l[0],o=l[1],i=l[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var d=i(a)}for(t&&t(l);u<s.length;u++)n=s[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(7761)}));l=a.O(l)})();
//# sourceMappingURL=app.4e8b607d.js.map